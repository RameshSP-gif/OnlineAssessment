<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Online Exam App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/style.css" rel="stylesheet">
  </head>
  <body>
    <header class="app-header bg-dark text-white p-3 d-flex justify-content-between align-items-center">
      <div class="ms-3"><h4>OnlineExam</h4></div>
      <div id="authArea" class="me-3"></div>
    </header>

    <div class="container-fluid">
      <div class="row">
        <nav class="col-3 left-menu bg-light vh-100 p-3">
          <ul class="nav flex-column" id="menuList">
            <li class="nav-item"><a class="nav-link active" href="#" data-view="dashboard">Dashboard</a></li>
            <li class="nav-item"><a class="nav-link" href="#" data-view="exam">Take Exam</a></li>
            <li class="nav-item"><a class="nav-link" href="#" data-view="video">Video Interview</a></li>
            <li class="nav-item"><a class="nav-link" href="#" data-view="profile">Profile</a></li>
          </ul>
        </nav>

        <main class="col-9 p-4" id="mainArea">
          <div id="views">
            <section id="dashboard" class="view">
              <h3>Welcome</h3>
              <p>Use the left menu to register/login, choose skills, and take an exam.</p>
              <div id="authForms">
                <div class="mb-3">
                  <h5>Register</h5>
                  <input id="regName" class="form-control mb-2" placeholder="Name">
                  <input id="regEmail" class="form-control mb-2" placeholder="Email">
                  <input id="regPass" type="password" class="form-control mb-2" placeholder="Password">
                  <button id="btnReg" class="btn btn-primary">Register</button>
                </div>
                <hr>
                <div>
                  <h5>Login</h5>
                  <input id="logEmail" class="form-control mb-2" placeholder="Email">
                  <input id="logPass" type="password" class="form-control mb-2" placeholder="Password">
                  <button id="btnLogin" class="btn btn-success">Login</button>
                </div>
              </div>
            </section>

            <section id="exam" class="view" style="display:none">
              <h3>Start Exam</h3>
              <div class="mb-3">
                <label>Skills (comma separated)</label>
                <input id="skillsInput" class="form-control" placeholder="e.g. javascript, ml, nlp">
              </div>
              <div class="mb-3">
                <label>Paste CV text (optional)</label>
                <textarea id="cvText" class="form-control" rows="4" placeholder="Paste resume text to auto-detect skills"></textarea>
              </div>
              <button id="btnStart" class="btn btn-primary">Start Exam</button>

              <div id="examArea" style="margin-top:20px"></div>
            </section>

            <section id="video" class="view" style="display:none">
              <h3>Video Interview</h3>
              <video id="preview" autoplay playsinline muted class="border" style="width:100%;height:300px;background:#000"></video>
              <div class="mt-2">
                <button id="startRec" class="btn btn-danger">Start Recording</button>
                <button id="stopRec" class="btn btn-secondary" disabled>Stop & Upload</button>
              </div>
              <div id="videoResult" class="mt-3"></div>
            </section>

            <section id="profile" class="view" style="display:none">
              <h3>Profile</h3>
              <div id="profileArea"></div>
            </section>
          </div>
        </main>
      </div>
    </div>

    <footer class="app-footer bg-dark text-white p-3 text-center">OnlineExam Â© 2026</footer>

    <script src="/app.js"></script>
  </body>
</html>
